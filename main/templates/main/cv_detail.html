{% extends "main/base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-8">
  <!-- Header -->
  <h1 class="text-3xl font-extrabold text-gray-800 mb-6">
    {{ cv.firstname }} {{ cv.lastname }}
  </h1>

  <!-- Bio -->
  <section class="mb-8">
    <h2 class="text-2xl font-semibold text-gray-700 mb-3">About</h2>
    <p class="text-gray-600 leading-relaxed">
      {{ cv.bio }}
    </p>
  </section>

  <!-- Skills -->
  <section class="mb-8">
    <h2 class="text-2xl font-semibold text-gray-700 mb-3">Skills</h2>
    <div class="flex flex-wrap">
      {% for skill in cv.skills.all %}
        <span class="inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm mr-2 mb-2">
          {{ skill.name }}
        </span>
      {% empty %}
        <p class="text-gray-500 italic">No skills listed.</p>
      {% endfor %}
    </div>
  </section>

  <!-- Projects -->
  <section class="mb-8">
    <h2 class="text-2xl font-semibold text-gray-700 mb-3">Projects</h2>
    <ul class="space-y-6">
      {% for project in cv.projects.all %}
        <li class="p-4 bg-gray-50 rounded-lg border border-gray-200">
          <h3 class="text-xl font-medium text-gray-800">
            {% if project.link %}
              <a href="{{ project.link }}" target="_blank" class="hover:text-blue-600">
                {{ project.title }}
              </a>
            {% else %}
              {{ project.title }}
            {% endif %}
          </h3>
          {% if project.description %}
            <p class="text-gray-600 mt-2">{{ project.description }}</p>
          {% endif %}
        </li>
      {% empty %}
        <p class="text-gray-500 italic">No projects to show.</p>
      {% endfor %}
    </ul>
  </section>

  <!-- Contacts -->
  <section class="mb-8">
    <h2 class="text-2xl font-semibold text-gray-700 mb-3">Contacts</h2>
    <ul class="space-y-3">
      {% for method, detail in cv.contacts.items %}
        <li class="flex items-center">
          <span class="w-24 font-medium text-gray-700">{{ method|capfirst }}:</span>
          {% if method == "email" %}
            <a href="mailto:{{ detail }}" class="text-blue-600 hover:underline">
              {{ detail }}
            </a>
          {% elif method == "phone" %}
            <a href="tel:{{ detail }}" class="text-blue-600 hover:underline">
              {{ detail }}
            </a>
          {% else %}
            <a href="{{ detail }}" target="_blank" class="text-blue-600 hover:underline">
              {{ detail }}
            </a>
          {% endif %}
        </li>
      {% empty %}
        <p class="text-gray-500 italic">No contact information provided.</p>
      {% endfor %}
    </ul>
  </section>

  <!-- Back link -->
  <div class="mt-8">
    <a href="{% url 'main:cv_list' %}"
       class="inline-block bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition">
      ‚Üê Back to all CVs
    </a>
  </div>
</div>
{% endblock %}
